<script>
  let db = {};
  db.repos = {};
  db.packages = {};
  async function load(repo) {
    let meta = await (await fetch(repo + "/meta.json")).json();
    if (meta.id && meta.name && meta.version) {
      db.repos[meta.id + ""] = {};
      db.repos[meta.id + ""].name = meta.name + "";
      db.repos[meta.id + ""].version = meta.version + "";
      db.repos[meta.id + ""].description = meta.description + "" || "";
      db.repos[meta.id + ""].icon =
        meta.icon + "" || "https://via.placeholder.com/57";
      let packages = await (await fetch(repo + "/packages.json")).json();
      for (let package of packages) {
        db.packages[package.id + ""] = {};
        db.packages[package.id + ""].id = package.id + "";
        db.packages[package.id + ""].version = package.version + "";
        db.packages[package.id + ""].version = package.version + "";
      }
    }
  }
  load("https://papercuts-repo.glitch.me");
</script>
